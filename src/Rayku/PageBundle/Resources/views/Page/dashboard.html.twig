{% extends "::angular_base.html.twig" %}

{% block content %}

	<div class="row content-header">
		<h3><span class="raphael">S</span>Dashboard</h3>
	</div>
	<div class="row" id="content">
		<input type="text" placeholder="What is your question?">
		
	<!------------------------------
	TUTOR LIST TABLE
	-------------------------------->
		<div id="tutorList" class="large-8 columns tutor-list" ng-controller="TutorListCtrl">
			<form action="{{path('post_session')}}" method="post" class="custom" id="create_session">
			<div tutor-list></div>
			</form>
		</div>

		<div class="large-2 columns tutor-points">
			<div ="pcontainer">
				<h3><span class="raphael">#</span><span class="title">Rayku Points</span></h3>
				<h4>{{user.points}}</h4>
			</div>
		</div>

	{% if user.isTutor %}
		<div class="large-2 columns tutor-rating">
			<div class="rcontainer">
				<h3><span class="raphael">$</span><span class="title">Tutor Rating<span></h3>
				<h4>1000</h4>
			</div>
		</div>
	

	<!-----------------------------
	TUTOR STATUS
	-------------------------------->
	<!--
		<div class="large-4 columns tutor-status" id ="sessions-list" ng-controller="UserDetailCtrl">
			<h3>Tutor Status</h3> 
			<div ng-include="TutorStatusTemplate"></div>
		</div>
	-->
	{% endif %}

	<!------------------------------
	PAST SESSIONS LIST
	---------------------------------->
		<div class="large-4 columns" id ="sessions-list" ng-controller="SessionListCtrl">
			<h3>Sessions</h3> 
			<div ng-include="SessionListTemplate"></div>
		</div>
	</div>
	
	<!------------------------------
	USER PROFILE
	---------------------------------->
	<div class="row userprofile" id="userprofile">
		<div class="large-12 columns" id="profile">
			<h3>User Profile</h3>
			<div class="row">
				<div class="large-3 columns sidenav" ng-controller="UserDetailCtrl">
					{% verbatim %}
					<img ng-src="{{ user.web_path }}" style="height:150px;">
					{% endverbatim %}
					<ul class="profilenav">
						<li><a href=# class="myprofile">Profile</a></li>
						<li><a href=# class="payout">Payout</a></li>
						<li><a href=# class="mysettings">Settings</a></li>
					</ul>
				</div>

				<div ng-controller="UserDetailCtrl">
					<div class="large-9 columns profileinfo">
						<div ng-include="UserDetailTemplate"></div>
						{% if user.isTutor %}
							<p class="public"><a href="{{ path('rayku_tutor_show', { 'username': user.username } ) }}"><span class="raphael">7</span>Tutor Public Profile</a></p>
						{% endif %}

					</div>
					<div class="large-9 columns tutorpayout">
						<h4 class="">Tutor Payout</h4>
						<h5>How much are tutors paid?</h5>
						<p>Tutors set their own rates in cents/minute. Rayku takes a varied platform fee depending on you number of sessions and the quality of them. The higher the quality, the less our platform fee is. There is also a small PayPal fee.</p>
						<h5>How often are tutors paid?</h5>
						<p>Tutors are paid after they accumulate 5000 Rayku Points ($50). You should receive your money within a week via PayPal.</p>
						<h5>How are tutors paid?</h5>
						<p>Our tutors require a PayPal account.</p>
						<p><a href="https://docs.google.com/forms/d/1CUGxAuvhBtGwtVpWqaL2V52f93BBn1GVPdl4DPXzidI/viewform" target="_blank">Cash Out Form</a></p>
					</div>
					<div class="large-9 columns editprofileinfo">
						<form ng-upload="bar" action="{{ path('post_users', {'user':app.user.id}) }}">
						{% verbatim %}
						<h4 class="username">Edit Profile</h4>
						<ul class="userinfo">
							<li><span class="fname">First Name</span><span class="editfname"><input type="text" ng-model="user.first_name" name="first_name"></span></li>
							<li><span class="lname">Last Name</span><span class="editlname"><input type="text" ng-model="user.last_name" name="last_name"></span></li>
							<li><span class="degree">Degree</span><span class="editdegree"><input type="text" ng-model="user.degree" name="degree"></span></li>
							<li><span class="grade">Level Of Education</span><span class="editgrade"><input type="text" ng-model="user.grade" name="grade"></span></li>
							<li><span class="school">School</span><span class="editschool"><input type="text" ng-model="user.school" name="school"></span></li>
						</ul>
						<p><span>About</span><span><textarea ng-model="user.bio" name="bio">{{ user.bio }}</textarea></span></p>
						<p><span>Profile Picture</span><span><input type="file" name="file" /></span></p>
						<div class="row">
							<input type="submit" upload-submit="update(contents, completed)" value="Save" class="bbutton" />
						</div>
						</form>
						
						<div>{{uploadReport}}</div>
						
						{% endverbatim %}
					</div>
					<div class="large-9 columns profilesettings">
						<form novalidate>
						<h4 class="username">Settings</h4>
						<ul class="userinfo">
							<li><span class="username">Username</span><span><input type="text" ng-model="user.username" name="username"></span></li>
							<li><span class="email">Email</span><span><input type="text" ng-model="user.email" name="email"></span></li>
							<li><span class="password">Current Password</span><span><input type="password" ng-model="user.current_password" name="current_password" value="" autocomplete="off"></span></li>
							<li><span class="password">New Password</span><span><input type="password" ng-model="user.plainPassword.first" name="plainPassword[first]"></span></li>
							<li><span class="password">Confirm Password</span><span><input type="password" ng-model="user.plainPassword.second" name="plainPassword[second]"></span></li>
						</ul>
						<div row>
							<input type="submit" class="bbutton" value="Save Settings" ng-click="profile(user)" />
						</div>
						</form>
					</div>
				</div>

			</div>
		</div>
	</div>
{% endblock %}