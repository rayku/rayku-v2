<ul class="sessionsList">
	<li id="sesListHeader">
		<ul>
			<li class="sesName">Name</li>

			<li class="sesTutor">Tutor</li>
			<li class="sesRating">Rating</li>
		</ul>
	</li>
	<li ng-repeat="session in sessions | startFrom:currentPage*pageSize | limitTo:pageSize" ng-cloak>
		<ul>
			<li class="sesName"><div ng-hide="editorEnabled">{{session.tutor_session_name}}</div><form><div ng-show="editorEnabled"><input type="text" name="session_name" ng-model="session.tutor_session_name"> <button class="save_session_name" ng-click="update(session)" ng-click="editorEnabled=!editorEnabled">Save</button></div></li>
			<li class="sesTutor">{{session.selected_tutor.user.first_name}} {{session.selected_tutor.user.last_name}}</li>
			<li class="sesRating">
				<div ng-show="{{user.id != session.student.id}}">tutor</div>
				<div ng-hide="{{user.id == session.student.id}}">Student</div>
				&nbsp;</li>
			<li class="sesView"><a href="{{whiteboardUrl}}/room/{{session.id}}/playback">View</a></li>
			<li class="sesEdit"><div class="ng-edit" ng-click="editorEnabled=!editorEnabled" class="edit_session_name">Edit</div></form></li>
		</ul>
	</li>
	<li ng-show="!sessions.length" ng-show="loaded">
		<ul><li>No past Session</li></ul>
	</li>
</ul>

<div class="pagination" ng-cloak>
<button type="button"  ng-cloak ng-disabled="currentPage == 0" ng-click="prevPage()">
        «
</button>
{{currentPage+1}}/{{numberOfPages()}}
<button type="button" ng-cloak ng-disabled="currentPage >= tutors.length/pageSize - 1" ng-click="nextPage()">
    »
</button>
</div>

<style type="text/css">
.session_displayed_name{
	padding-top: 18px; 
}
input[name="session_name"]{
	width:7em;
	padding:5px;
}
.ng-edit{
	color:rgba(120, 120, 120, 1);
	margin-left: 10px; 
}
.ng-edit:hover{
	cursor: pointer;
}
ul.sessionsList, ul.sessionsList li > ul{
		list-style-type: none;
		padding: 0;
}
ul.sessionsList > li{
	background: rgba(255, 255, 255, 1);
	padding: 10px 0px;
	margin-bottom: 1px;
	border-bottom: 1px solid rgba(221, 221, 221, 1);
	transition: box-shadow 0.3s;
	-webkit-transition: box-shadow 0.3s;
}
ul.sessionsList > li:hover{
	background: rgba();
	box-shadow: 0 0 8px rgba(120, 120, 120, 0.5);
}
ul.sessionsList li > ul li{
	margin-top: 0;
	display: inline-block;
	padding:15 15px;
	padding-bottom: 0px;
}
li.sesName{
	width:30%;
	padding: 10px;
}
li.sesTutor{
	width:35%;
}
li.sesRating{
	width:5%;
	position: relative;
}
li.sesView{
	width:7.5%;
	margin-right-right:10px;
}
li.sesEdit{
	width:7.5%;
}
#sesListHeader{
	border-bottom: 1px solid rgba(10, 10, 10, 0.2);

	background:rgb(240,246,250);
	padding-top: 0;
}
#sesListHeader:hover{
	box-shadow: none;
}
#sesListHeader ul, #sesListHeader ul li{
	background: transparent;
}
</style>

<script type="text/javascript">
$(document).ready(function(){
	$('a.edit_session_name').click(function (event){
		event.preventDefault();
		$('button.save_session_name').show();
	});
});

$(function () {
    $('input[name="session_name_submit"]').click(function(){
        var session_name = $('input[name="session_name_input"]').val();
        $.ajax({
            type: "POST",
            url: url,
            data: data,
            success: function (data){
                console.log($(this).val());
            }
        });
    });
});
</script>